<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Code | Full Bitcoin Blockchain Data Made Easy</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/full-bitcoin-blockchain-data-made-easy/assets/css/0.styles.5af5f1ac.css" as="style"><link rel="preload" href="/full-bitcoin-blockchain-data-made-easy/assets/js/app.18fbfb89.js" as="script"><link rel="preload" href="/full-bitcoin-blockchain-data-made-easy/assets/js/2.aaed3827.js" as="script"><link rel="preload" href="/full-bitcoin-blockchain-data-made-easy/assets/js/8.dbc3bcac.js" as="script"><link rel="prefetch" href="/full-bitcoin-blockchain-data-made-easy/assets/js/3.206ffb89.js"><link rel="prefetch" href="/full-bitcoin-blockchain-data-made-easy/assets/js/4.bcdb4231.js"><link rel="prefetch" href="/full-bitcoin-blockchain-data-made-easy/assets/js/5.7ab42fa1.js"><link rel="prefetch" href="/full-bitcoin-blockchain-data-made-easy/assets/js/6.216a6687.js"><link rel="prefetch" href="/full-bitcoin-blockchain-data-made-easy/assets/js/7.484f9988.js"><link rel="prefetch" href="/full-bitcoin-blockchain-data-made-easy/assets/js/9.68d94867.js">
    <link rel="stylesheet" href="/full-bitcoin-blockchain-data-made-easy/assets/css/0.styles.5af5f1ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/full-bitcoin-blockchain-data-made-easy/" class="home-link router-link-active"><!----> <span class="site-name">Full Bitcoin Blockchain Data Made Easy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://arxiv.org/pdf/2106.08072.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Paper
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/full-bitcoin-blockchain-data-made-easy/scripts/" class="nav-link">
  Scripts
</a></div><div class="nav-item"><a href="/full-bitcoin-blockchain-data-made-easy/code/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Code
</a></div><div class="nav-item"><a href="http://data.complexnetworks.fr/bitcoin/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://samos.lip6.fr/bitcoin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mirror
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://arxiv.org/pdf/2106.08072.pdf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Paper
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/full-bitcoin-blockchain-data-made-easy/scripts/" class="nav-link">
  Scripts
</a></div><div class="nav-item"><a href="/full-bitcoin-blockchain-data-made-easy/code/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Code
</a></div><div class="nav-item"><a href="http://data.complexnetworks.fr/bitcoin/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Data
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="http://samos.lip6.fr/bitcoin" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mirror
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Code</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/full-bitcoin-blockchain-data-made-easy/code/#indexing" class="sidebar-link">Indexing</a></li><li><a href="/full-bitcoin-blockchain-data-made-easy/code/#distillation" class="sidebar-link">Distillation</a></li><li><a href="/full-bitcoin-blockchain-data-made-easy/code/#application-address-clustering" class="sidebar-link">Application : address clustering</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="code"><a href="#code" class="header-anchor">#</a> Code</h1> <p>You can download the whole <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/tree/main/src/code" target="_blank" rel="noopener noreferrer">code folder here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="indexing"><a href="#indexing" class="header-anchor">#</a> Indexing</h2> <h3 id="add-addresses-py"><a href="#add-addresses-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/add_addresses.py" target="_blank" rel="noopener noreferrer">add_addresses.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#add_addresses.py</span>

<span class="token keyword">import</span> json
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> gc

block_id <span class="token operator">=</span> <span class="token boolean">None</span>
txid_index <span class="token operator">=</span> <span class="token number">0</span>
vout_index <span class="token operator">=</span> <span class="token number">0</span>
item_number <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
    block <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
    <span class="token comment"># Check block order</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>block_id<span class="token operator">==</span><span class="token boolean">None</span> <span class="token keyword">or</span> block<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token operator">==</span>block_id<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    block_id <span class="token operator">=</span> block<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> tx <span class="token keyword">in</span> block<span class="token punctuation">[</span><span class="token string">&quot;tx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> vout <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token string">&quot;scriptPubKey&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">)</span>
            <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token string">&quot;asm&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token comment"># If pubkey: create &quot;addresses&quot; field and put the pubkey inside</span>
            <span class="token keyword">if</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&quot;pubkey&quot;</span><span class="token punctuation">:</span>
                <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token string">&quot;addresses&quot;</span> <span class="token keyword">not</span> <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                asm <span class="token operator">=</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;asm&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span>
                pubKey <span class="token operator">=</span> asm<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;addresses&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>pubKey<span class="token punctuation">]</span>
            <span class="token comment"># addresses in non nulldata or nonstandard vout assertion</span>
            <span class="token keyword">if</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">&quot;nulldata&quot;</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">&quot;nonstandard&quot;</span><span class="token punctuation">:</span>
                    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token string">&quot;addresses&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>block<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="make-list-py"><a href="#make-list-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/make_list.py" target="_blank" rel="noopener noreferrer">make_list.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#make_list.py</span>

<span class="token keyword">import</span> json
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> gc

txid_index <span class="token operator">=</span> <span class="token number">0</span>
vout_index <span class="token operator">=</span> <span class="token number">0</span>
item_number <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
    block <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
    <span class="token keyword">for</span> tx <span class="token keyword">in</span> block<span class="token punctuation">[</span><span class="token string">&quot;tx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token comment"># Count tx</span>
        sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>item_number<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> tx<span class="token punctuation">[</span><span class="token string">&quot;txid&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>txid_index<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
        txid_index <span class="token operator">+=</span> <span class="token number">1</span>
        item_number <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token comment"># Count non coinbase vins        </span>
        <span class="token keyword">for</span> vin <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token string">&quot;txid&quot;</span> <span class="token keyword">in</span> vin<span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>item_number<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> vin<span class="token punctuation">[</span><span class="token string">&quot;txid&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
                item_number <span class="token operator">+=</span> <span class="token number">1</span>
                vin_id <span class="token operator">=</span> vin<span class="token punctuation">[</span><span class="token string">&quot;txid&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>vin<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>item_number<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> vin_id <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
                item_number <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token comment"># Count vouts</span>
        <span class="token keyword">for</span> vout <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            vout_id <span class="token operator">=</span> tx<span class="token punctuation">[</span><span class="token string">&quot;txid&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>vout<span class="token punctuation">[</span><span class="token string">&quot;n&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>item_number<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> vout_id <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>vout_index<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
            vout_index <span class="token operator">+=</span> <span class="token number">1</span>
            item_number <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token comment"># Count addresses</span>
            <span class="token keyword">if</span> <span class="token string">&quot;addresses&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">for</span> address <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;addresses&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>item_number<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> address <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
                    item_number <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token comment">#StdErr monitoring                </span>
    sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;block &quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>block<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>item_number<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; items\n&quot;</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="get-addresses-py"><a href="#get-addresses-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/get_addresses.py" target="_blank" rel="noopener noreferrer">get_addresses.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#get_addresses.py</span>

<span class="token keyword">import</span> sys
<span class="token keyword">import</span> json

item_number <span class="token operator">=</span> <span class="token number">0</span>
<span class="token comment"># Blocks</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
    block <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
    <span class="token comment"># Transactions</span>
    <span class="token keyword">for</span> tx <span class="token keyword">in</span> block<span class="token punctuation">[</span><span class="token string">&quot;tx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token comment"># Vouts</span>
        <span class="token keyword">for</span> vout <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token string">&quot;scriptPubKey&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token string">&quot;addresses&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">for</span> address <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;addresses&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>item_number<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
                        item_number <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token comment">#StdErr monitoring</span>
    sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;block &quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>block<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>item_number<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; items\n&quot;</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="list-translate-py"><a href="#list-translate-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/list_translate.py" target="_blank" rel="noopener noreferrer">list_translate.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#list_translate.py</span>

<span class="token keyword">import</span> sys

nb_done <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
    l <span class="token operator">=</span> line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">:</span>
        index <span class="token operator">=</span> l<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'-1'</span><span class="token punctuation">:</span>
        sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
    nb_done <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">if</span> nb_done <span class="token operator">%</span> <span class="token number">1000000</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
        sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>nb_done <span class="token operator">/</span> <span class="token number">100000</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; million(s) lines processed.\n&quot;</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>nb_done<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; lines processed.\nFinished.\n&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="json-translate-py"><a href="#json-translate-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/json_translate.py" target="_blank" rel="noopener noreferrer">json_translate.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#json_translate.py</span>

<span class="token keyword">import</span> sys
<span class="token keyword">import</span> json
<span class="token keyword">import</span> gzip
<span class="token keyword">import</span> argparse

parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--file&quot;</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">&quot;Specify index file&quot;</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>

index_file <span class="token operator">=</span> gzip<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token builtin">file</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span>
previous_occurrence <span class="token operator">=</span> <span class="token boolean">None</span>

<span class="token keyword">def</span> <span class="token function">next_index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> previous_occurrence
    l <span class="token operator">=</span> index_file<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
    occurrence<span class="token punctuation">,</span>index <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> previous_occurrence <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>occurrence<span class="token operator">==</span>previous_occurrence<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    previous_occurrence <span class="token operator">=</span> occurrence
    <span class="token keyword">return</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>

nb_blocks<span class="token punctuation">,</span>nb_vouts<span class="token punctuation">,</span>nb_addresses<span class="token punctuation">,</span>nb_txids <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span>
item_number <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
    block <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
    nb_blocks <span class="token operator">=</span> block<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span>
    <span class="token keyword">for</span> tx <span class="token keyword">in</span> block<span class="token punctuation">[</span><span class="token string">&quot;tx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        tx<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> next_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
        item_number <span class="token operator">+=</span> <span class="token number">1</span>
        nb_txids <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>nb_txids<span class="token punctuation">,</span>tx<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> vin <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token string">&quot;txid&quot;</span> <span class="token keyword">in</span> vin<span class="token punctuation">:</span>
                vin<span class="token punctuation">[</span><span class="token string">&quot;txid_index&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> next_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
                item_number <span class="token operator">+=</span> <span class="token number">1</span>
                nb_txids <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>nb_txids<span class="token punctuation">,</span>vin<span class="token punctuation">[</span><span class="token string">&quot;txid_index&quot;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
                vin<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> next_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
                item_number <span class="token operator">+=</span> <span class="token number">1</span>
                nb_vouts <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>nb_vouts<span class="token punctuation">,</span>vin<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> vout <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> next_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
            item_number <span class="token operator">+=</span> <span class="token number">1</span>
            nb_vouts <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>nb_vouts<span class="token punctuation">,</span>vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token string">&quot;addresses&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                addresses_index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token keyword">for</span> address <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;addresses&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    addresses_index<span class="token punctuation">.</span>append<span class="token punctuation">(</span>next_index<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    item_number <span class="token operator">+=</span> <span class="token number">1</span>
                    nb_addresses <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>nb_addresses<span class="token punctuation">,</span>addresses_index<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
                vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;addresses_index&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> addresses_index

    sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>block<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;{\&quot;blocks\&quot;: %d, \&quot;vouts\&quot;: %d, \&quot;addresses\&quot;: %d, \&quot;txids\&quot;: %d}\n&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>nb_blocks<span class="token punctuation">,</span>nb_vouts<span class="token punctuation">,</span>nb_addresses<span class="token punctuation">,</span>nb_txids<span class="token punctuation">)</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>


</code></pre></div><h3 id="get-indexes-py"><a href="#get-indexes-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/get_indexes.py" target="_blank" rel="noopener noreferrer">get_indexes.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#get_indexes.py</span>

<span class="token keyword">import</span> sys
<span class="token keyword">import</span> json

f_txids<span class="token punctuation">,</span>f_tios<span class="token punctuation">,</span>f_addresses<span class="token operator">=</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;index_txids&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;index_tios&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;index_addresses&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span>
i_txids<span class="token punctuation">,</span>i_tios<span class="token punctuation">,</span>i_addresses<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span>

<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
        block <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
        block_id <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>block<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> tx <span class="token keyword">in</span> block<span class="token punctuation">[</span><span class="token string">&quot;tx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> tx<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token operator">==</span>i_txids<span class="token punctuation">:</span>
                        f_txids<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;%d %s\n&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>i_txids<span class="token punctuation">,</span>tx<span class="token punctuation">[</span><span class="token string">&quot;txid&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        i_txids<span class="token operator">+=</span><span class="token number">1</span>
                <span class="token keyword">for</span> vout <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> <span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vout <span class="token keyword">and</span> <span class="token string">&quot;n&quot;</span> <span class="token keyword">in</span> vout <span class="token keyword">and</span> vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token operator">==</span>i_tios<span class="token punctuation">:</span>
                                f_tios<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;%d %s\n&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>i_tios<span class="token punctuation">,</span>tx<span class="token punctuation">[</span><span class="token string">&quot;txid&quot;</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">','</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>vout<span class="token punctuation">[</span><span class="token string">&quot;n&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                i_tios<span class="token operator">+=</span><span class="token number">1</span>
                        <span class="token keyword">if</span> <span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vout <span class="token keyword">and</span> <span class="token string">&quot;scriptPubKey&quot;</span> <span class="token keyword">in</span> vout <span class="token keyword">and</span> <span class="token string">&quot;addresses_index&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                                <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;addresses_index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                                        <span class="token keyword">if</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;addresses_index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>i_addresses<span class="token punctuation">:</span>
                                                f_addresses<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;%d %s\n&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>i_addresses<span class="token punctuation">,</span>vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;addresses&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                                i_addresses <span class="token operator">+=</span> <span class="token number">1</span>
        sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;block &quot;</span><span class="token operator">+</span>block_id<span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
        sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> f <span class="token keyword">in</span> f_txids<span class="token punctuation">,</span>f_tios<span class="token punctuation">,</span>f_addresses<span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="distillation"><a href="#distillation" class="header-anchor">#</a> Distillation</h2> <h3 id="distillation-addresses-py"><a href="#distillation-addresses-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/distillation_addresses.py" target="_blank" rel="noopener noreferrer">distillation_addresses.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#distillation_addresses.py</span>

<span class="token keyword">import</span> sys
<span class="token keyword">import</span> json

sizes <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>sizes<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
v_addresses <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">*</span>sizes<span class="token punctuation">[</span><span class="token string">&quot;vouts&quot;</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
        block <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
        block_id <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>block<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        timestamp <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>block<span class="token punctuation">[</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token keyword">for</span> tx <span class="token keyword">in</span> block<span class="token punctuation">[</span><span class="token string">&quot;tx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>block_id<span class="token operator">+</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span>timestamp<span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>tx<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                in_addresses <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> vin <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> <span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vin<span class="token punctuation">:</span>
                                in_addresses<span class="token punctuation">.</span>update<span class="token punctuation">(</span>v_addresses<span class="token punctuation">[</span>vin<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                                v_addresses<span class="token punctuation">[</span>vin<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>
                out_addresses <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> vout <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> <span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vout <span class="token keyword">and</span> <span class="token string">&quot;scriptPubKey&quot;</span> <span class="token keyword">in</span> vout <span class="token keyword">and</span> <span class="token string">&quot;addresses_index&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                                <span class="token keyword">assert</span><span class="token punctuation">(</span>v_addresses<span class="token punctuation">[</span>vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                                v_addresses<span class="token punctuation">[</span>vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> vout<span class="token punctuation">[</span><span class="token string">&quot;scriptPubKey&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;addresses_index&quot;</span><span class="token punctuation">]</span>
                                out_addresses<span class="token punctuation">.</span>update<span class="token punctuation">(</span>v_addresses<span class="token punctuation">[</span>vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>in_addresses<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>out_addresses<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> a <span class="token keyword">in</span> in_addresses<span class="token punctuation">:</span>
                        sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> a <span class="token keyword">in</span> out_addresses<span class="token punctuation">:</span>
                        sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>

        sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;block &quot;</span><span class="token operator">+</span>block_id<span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
        sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="distillation-amounts-py"><a href="#distillation-amounts-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/distillation_amounts.py" target="_blank" rel="noopener noreferrer">distillation_amounts.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#distillation_amounts.py</span>

<span class="token keyword">import</span> sys
<span class="token keyword">import</span> json

sizes <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>sizes<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
v_amount <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>sizes<span class="token punctuation">[</span><span class="token string">&quot;vouts&quot;</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
	block <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
	block_id <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>block<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	timestamp <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>block<span class="token punctuation">[</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	prefix<span class="token operator">=</span>block_id<span class="token operator">+</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span>timestamp<span class="token operator">+</span><span class="token string">&quot; &quot;</span>

	<span class="token keyword">for</span> tx <span class="token keyword">in</span> block<span class="token punctuation">[</span><span class="token string">&quot;tx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
		sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>prefix<span class="token punctuation">)</span>
		nb_in<span class="token operator">=</span><span class="token number">0</span>
		<span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token string">&quot;vin&quot;</span> <span class="token keyword">in</span> tx <span class="token keyword">and</span> <span class="token string">&quot;vout&quot;</span> <span class="token keyword">in</span> tx <span class="token keyword">and</span> <span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> tx<span class="token punctuation">)</span>
		<span class="token keyword">for</span> vin <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
			<span class="token keyword">if</span> <span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vin<span class="token punctuation">:</span>
				nb_in <span class="token operator">+=</span> <span class="token number">1</span>
		nb_out <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tx<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
		sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;%d %d %d&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>tx<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>nb_in<span class="token punctuation">,</span>nb_out<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">for</span> vin <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
			<span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vin <span class="token keyword">or</span> <span class="token string">&quot;coinbase&quot;</span> <span class="token keyword">in</span> vin<span class="token punctuation">)</span>
			<span class="token keyword">if</span> <span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vin<span class="token punctuation">:</span>
				sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; %d&quot;</span><span class="token operator">%</span>v_amount<span class="token punctuation">[</span>vin<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
				v_amount<span class="token punctuation">[</span>vin<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
		<span class="token keyword">for</span> vout <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
			<span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">)</span>
			<span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">)</span>
			<span class="token keyword">assert</span><span class="token punctuation">(</span>v_amount<span class="token punctuation">[</span>vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
			v_amount<span class="token punctuation">[</span>vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">round</span><span class="token punctuation">(</span>vout<span class="token punctuation">[</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">10</span><span class="token operator">**</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; %d&quot;</span><span class="token operator">%</span>v_amount<span class="token punctuation">[</span>vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
		sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>

	sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;block &quot;</span><span class="token operator">+</span>block_id<span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
	sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="distillation-tios-py"><a href="#distillation-tios-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/distillation_tios.py" target="_blank" rel="noopener noreferrer">distillation_tios.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#distillation_tios.py</span>

<span class="token keyword">import</span> sys
<span class="token keyword">import</span> json

sizes <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>sizes<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
        block <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
        block_id <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>block<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        timestamp <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>block<span class="token punctuation">[</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token keyword">for</span> tx <span class="token keyword">in</span> block<span class="token punctuation">[</span><span class="token string">&quot;tx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>block_id<span class="token operator">+</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span>timestamp<span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>tx<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                in_tios <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token keyword">for</span> vin <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> <span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vin<span class="token punctuation">:</span>
                                in_tios<span class="token punctuation">.</span>append<span class="token punctuation">(</span>vin<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                out_tios <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token keyword">for</span> vout <span class="token keyword">in</span> tx<span class="token punctuation">[</span><span class="token string">&quot;vout&quot;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        <span class="token keyword">if</span> <span class="token string">&quot;index&quot;</span> <span class="token keyword">in</span> vout<span class="token punctuation">:</span>
                                out_tios<span class="token punctuation">.</span>append<span class="token punctuation">(</span>vout<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>in_tios<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>out_tios<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> a <span class="token keyword">in</span> in_tios<span class="token punctuation">:</span>
                        sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> a <span class="token keyword">in</span> out_tios<span class="token punctuation">:</span>
                        sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>

        sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;block &quot;</span><span class="token operator">+</span>block_id<span class="token operator">+</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
        sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="application-address-clustering"><a href="#application-address-clustering" class="header-anchor">#</a> Application : address clustering</h2> <h3 id="heuristic"><a href="#heuristic" class="header-anchor">#</a> Heuristic</h3> <h4 id="heuristic-py"><a href="#heuristic-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/heuristic.py" target="_blank" rel="noopener noreferrer">heuristic.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#heuristic.py</span>

<span class="token comment"># Builds the graph of addresses connected if they appear together as input of a same transaction.        </span>

<span class="token comment"># Input format: each line represents a transaction as follows:                                           </span>
<span class="token comment"># num_block block_timestamp num_transaction nb_addresses_in nb_addresses_out addresses_in addresses_out  </span>
<span class="token comment"># where addresses_in is a sequence of nb_addresses_in distinct addresses, and addresses_out a sequence of nb_addresses_out distinct addresses                                                                    </span>

<span class="token comment"># Output: a sequence of lines, each representing a link of the form &quot;a b i o&quot; meaning that addresses a and b are input addresses of a transaction with i input addresses and o output addresses.                 </span>
<span class="token comment"># Not all possible such links are written as output, but enough to ensure that all input addresses are connected through a path (sequence of links).                                                             </span>
<span class="token comment"># Redundant links may appear.                                                                            </span>

<span class="token comment"># Note: several strategies are possible for linking addresses together, that have an impact on graph structure and so on computations on this graph.                                                             </span>

<span class="token comment"># Example: if input is:                                                                                  </span>
<span class="token comment"># x x 1 2 1 a b c                                                                                        </span>
<span class="token comment"># y y 2 3 2 d e b f g                                                                                    </span>
<span class="token comment"># then a valid output is:                                                                                </span>
<span class="token comment"># a b 2 1                                                                                                </span>
<span class="token comment"># d e 3 2                                                                                                </span>
<span class="token comment"># d b 3 2                                                                                                </span>
<span class="token comment"># and another valid output is:                                                                           </span>
<span class="token comment"># a b 2 1                                                                                                </span>
<span class="token comment"># d e 3 2                                                                                                </span>
<span class="token comment"># e b 3 2                                                                                                </span>

<span class="token keyword">import</span> sys

<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
        tr <span class="token operator">=</span> line<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>tr<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">[</span>nb_in<span class="token punctuation">,</span>nb_out<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>tr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        in_addresses <span class="token operator">=</span> tr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token operator">+</span>nb_in<span class="token punctuation">]</span>
        <span class="token comment"># variant: sort addresses to increase redundancy?                                                </span>
        <span class="token comment"># in_addresses.sort()                                                                            </span>

        <span class="token comment"># first approach: link the first address to all others                                           </span>
        <span class="token keyword">for</span> a <span class="token keyword">in</span> in_addresses<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;%s %s %d %d\n&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>in_addresses<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>nb_in<span class="token punctuation">,</span>nb_out<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># second approach: builds a linear path between addresses                                        </span>
<span class="token comment">#       for i in range(nb_in-1):                                                                         </span>
<span class="token comment">#               sys.stdout.write(&quot;%s %s %d %d\n&quot;%(in_addresses[i],in_addresses[i+1],nb_in,nb_out))       </span>




</code></pre></div><h3 id="union-find"><a href="#union-find" class="header-anchor">#</a> Union-Find</h3> <h4 id="union-find-clusters-py"><a href="#union-find-clusters-py" class="header-anchor">#</a> <a href="https://github.com/ethicnology/full-bitcoin-blockchain-data-made-easy/blob/main/src/code/union-find-clusters.py" target="_blank" rel="noopener noreferrer">union-find-clusters.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment">#union-find-clusters.py</span>

<span class="token keyword">import</span> sys
<span class="token keyword">import</span> argparse

<span class="token comment"># reads lines of the form &quot;u v i o&quot; meaning that u and v are in the same clusters;</span>
<span class="token comment"># discards lines with a given value for i and o above a given threshold</span>

parser <span class="token operator">=</span> argparse<span class="token punctuation">.</span>ArgumentParser<span class="token punctuation">(</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--nodes&quot;</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">&quot;maximal node index&quot;</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-i&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--max_in&quot;</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">&quot;maximal number of input nodes; 0 if no limit&quot;</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
parser<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;-o&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--max_out&quot;</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">help</span><span class="token operator">=</span><span class="token string">&quot;maximal number of output nodes; 0 if no limit&quot;</span><span class="token punctuation">,</span> required<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
args <span class="token operator">=</span> parser<span class="token punctuation">.</span>parse_args<span class="token punctuation">(</span><span class="token punctuation">)</span>

n<span class="token punctuation">,</span>max_in<span class="token punctuation">,</span>max_out <span class="token operator">=</span> args<span class="token punctuation">.</span>nodes<span class="token punctuation">,</span>args<span class="token punctuation">.</span>max_in<span class="token punctuation">,</span>args<span class="token punctuation">.</span>max_out
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;%d nodes, max_in %d, max_out %d\n&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>max_in<span class="token punctuation">,</span>max_out<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">union</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> x<span class="token operator">!=</span>y<span class="token punctuation">:</span>
                S<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> y

<span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        y <span class="token operator">=</span> x
        <span class="token keyword">while</span> S<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">:</span>
                x <span class="token operator">=</span> S<span class="token punctuation">[</span>x<span class="token punctuation">]</span>
        <span class="token keyword">while</span> S<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">:</span> <span class="token comment"># path compression                                                                                                 </span>
                <span class="token punctuation">(</span>S<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span>S<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> x

sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;initializing...&quot;</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>
S <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; done.\n&quot;</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>

sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;build clusters...&quot;</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">:</span>
        l <span class="token operator">=</span> line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">[</span>u<span class="token punctuation">,</span>v<span class="token punctuation">,</span>nb_in<span class="token punctuation">,</span>nb_out<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> l<span class="token punctuation">]</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>u<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token keyword">and</span> v<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token keyword">and</span> u<span class="token operator">&lt;</span>n <span class="token keyword">and</span> v<span class="token operator">&lt;</span>n <span class="token keyword">and</span> nb_in<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token keyword">and</span> nb_out<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token keyword">and</span> nb_in<span class="token operator">&lt;=</span>n <span class="token keyword">and</span> nb_out<span class="token operator">&lt;=</span>n<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>max_in<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">or</span> nb_in <span class="token operator">&lt;=</span> max_in<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>max_out<span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">or</span> nb_out <span class="token operator">&lt;=</span> max_out<span class="token punctuation">)</span><span class="token punctuation">:</span>
                union<span class="token punctuation">(</span>find<span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">,</span>find<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; done.\n&quot;</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>

sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;output results...&quot;</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;# node_id cluster_number\n&quot;</span><span class="token punctuation">)</span>
nb_clusters <span class="token operator">=</span> <span class="token number">0</span>
clusters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        c <span class="token operator">=</span> find<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token keyword">if</span> c <span class="token keyword">not</span> <span class="token keyword">in</span> clusters<span class="token punctuation">:</span>
                clusters<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> nb_clusters
                nb_clusters <span class="token operator">+=</span> <span class="token number">1</span>
        sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;%d %d\n&quot;</span><span class="token operator">%</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>clusters<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot; done.\n&quot;</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>flush<span class="token punctuation">(</span><span class="token punctuation">)</span>


</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/full-bitcoin-blockchain-data-made-easy/assets/js/app.18fbfb89.js" defer></script><script src="/full-bitcoin-blockchain-data-made-easy/assets/js/2.aaed3827.js" defer></script><script src="/full-bitcoin-blockchain-data-made-easy/assets/js/8.dbc3bcac.js" defer></script>
  </body>
</html>
